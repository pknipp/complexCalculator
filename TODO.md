figure out how to separate functions into separate files
