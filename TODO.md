figure out how to import "math" into handler, which enable DRY-ing of some parts of code.
figure out how to separate functions into separate files
error handling
return json (and html), separately.
